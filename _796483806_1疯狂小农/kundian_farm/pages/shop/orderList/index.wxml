<view>
    <scroll-view scrollX class="bg-white nav">
        <view class="flex text-center">
            <view bindtap="changeIndex" class="cu-item flex-sub {{currentIndex==4?'text-green cur':''}}" data-index="4" style="color:{{currentIndex==4?farmSetData.background_color:''}};">
                全部
            </view>
            <view bindtap="changeIndex" class="cu-item flex-sub {{currentIndex==1?'text-green cur':''}}" data-index="1" style="color:{{currentIndex==1?farmSetData.background_color:''}};">
                待付款
            </view>
            <view bindtap="changeIndex" class="cu-item flex-sub {{currentIndex==2?'text-green cur':''}}" data-index="2" style="color:{{currentIndex==2?farmSetData.background_color:''}};">
                待配送
            </view>
            <view bindtap="changeIndex" class="cu-item flex-sub {{currentIndex==3?'text-green cur':''}}" data-index="3" style="color:{{currentIndex==3?farmSetData.background_color:''}};">
                待收货
            </view>
        </view>
    </scroll-view>
    <view class="order-content" wx:if="{{isContent}}">
        <block wx:for="{{orderData}}" wx:key="id">
            <view class="mainBody" wx:if="{{item.order_type==0}}">
                <view class="ptl30">
                    <view style="color:{{farmSetData.background_color}}">
                        <view class="itemType">
                            <text class="order-number">订单编号：{{item.order_number}}</text>
                            <text class="order-time">下单时间：{{item.create_time}}</text>
                            <text class="order-status">{{item.status_txt}}</text>
                        </view>
                    </view>
                    <view bindtap="intoOrderDetail" class="flex mt20 brb" data-orderid="{{item.id}}" wx:for="{{item.order_detail}}" wx:for-item="val" wx:key="index">
                        <image class="HeadImg" src="{{val.cover}}"></image>
                        <view class="ml20">
                            <view class="itemName">{{val.goods_name}}</view>
                            <view class="flex mt10 f28 cf93">
                                <block wx:for="{{val.specItem}}" wx:for-item="value" wx:key="valIndex">
                                    <text>{{value.name}}:</text>
                                    <text class="ml10">{{value.spec_value}}</text>
                                </block>
                            </view>
                            <view class="cf93">
                                <text class="f32 cf2b">￥{{val.price}}</text>
                                <text class="ml20 f26 fThrough">￥{{item.Oprice}}</text>
                                <text class="ml20 f26">X{{val.count}}</text>
                            </view>
                        </view>
                    </view>
                </view>
                <view class="order-detail">
                    <text>共{{item.goodsCount}}件商品 合计:￥{{item.total_price}}(含运费:￥{{item.send_price}})</text>
                </view>
                <view class="btnArr">
                    <button bindtap="showVerifyQrocde" class="cu-btn round line-gray button-hover" data-orderid="{{item.id}}" wx:if="{{item.send_method==1&&item.status_code==1&&item.is_confirm!=1}}">核销码</button>
                    <button bindtap="cancelOrder" class="cu-btn round line-gray button-hover" data-orderid="{{item.id}}" wx:if="{{item.status_code==0}}">取消订单</button>
                    <button bindtap="payOrder" class="cu-btn round line-blue" data-orderid="{{item.id}}" style="color:{{farmSetData.background_color}}" wx:if="{{item.status_code==0}}">付 款</button>
                    <button bindtap="applyRefund" class="cu-btn round line-gray button-hover" data-orderid="{{item.id}}" wx:if="{{item.status_code==1}}">申请退款</button>
                    <button bindtap="sureGoods" class="cu-btn round line-blue" data-orderid="{{item.id}}" style="color:{{farmSetData.background_color}}" wx:if="{{item.status_code==2}}">确认收货</button>
                    <button bindtap="deleteOrder" class="cu-btn round line-gray button-hover" data-orderid="{{item.id}}" wx:if="{{item.status_code==3||item.status_code==5}}">删除订单</button>
                    <button bindtap="commentOrder" class="cu-btn round line-green" data-orderid="{{item.id}}" style="color:{{farmSetData.background_color}}" wx:if="{{item.status_code==3&&item.is_comment==0}}">评价</button>
                </view>
            </view>
            <view class="mainBody" wx:if="{{item.order_type==3&&item.status!=0||item.order_type==3&&item.send_method==1}}">
                <view class="ptl30">
                    <view class="itemType" style="color:{{farmSetData.background_color}}">
                        <text class="order-number">订单编号：{{item.order_number}}</text>
                        <text class="order-time">下单时间：{{item.create_time}}</text>
                        <text class="order-status">{{item.status_txt}}</text>
                    </view>
                    <view bindtap="intoOrderDetail" class="flex mt20 brb" data-orderid="{{item.id}}" wx:for="{{item.order_detail}}" wx:for-item="val" wx:key="index">
                        <image class="HeadImg" src="{{val.cover}}"></image>
                        <view class="ml20">
                            <view class="itemName">{{val.goods_name}}宰杀寄送</view>
                            <view class="flex mt10 f28 cf93">
                                <view>已认养天数：{{val.adopt_day}}天</view>
                            </view>
                            <view class="cf93 f28">
                                <view>认养时间：{{val.adopt_time}}</view>
                            </view>
                        </view>
                    </view>
                </view>
                <view class="order-detail">
                    <text>共{{item.goodsCount}}件商品 合计:￥{{item.total_price}}(含运费:￥{{item.send_price}})</text>
                </view>
                <view class="btnArr">
                    <button bindtap="showVerifyQrocde" class="cu-btn round line-gray button-hover" data-orderid="{{item.id}}" wx:if="{{item.send_method==1&&item.is_confirm!=1}}">核销码</button>
                    <button bindtap="sureGoods" class="cu-btn round line-green" data-orderid="{{item.id}}" style="color:{{farmSetData.background_color}}" wx:if="{{item.status_code==2}}">确认收货</button>
                </view>
            </view>
            <view class="mainBody" wx:if="{{item.order_type==4&&item.status!=0||item.order_type==4&&item.send_method==1}}">
                <view class="ptl30">
                    <view style="color:{{farmSetData.background_color}}">
                        <view class="itemType">
                            <text class="order-number">订单编号：{{item.order_number}}</text>
                            <text class="order-time">下单时间：{{item.create_time}}</text>
                            <text class="order-status">{{item.status_txt}}</text>
                        </view>
                    </view>
                    <view bindtap="intoOrderDetail" class="flex mt20 brb" data-orderid="{{item.id}}" wx:for="{{item.order_detail}}" wx:for-item="val" wx:key="index">
                        <image class="HeadImg" src="{{val.cover}}"></image>
                        <view class="ml20">
                            <view class="itemName">{{item.body}}</view>
                            <view class="flex mt10 f28 cf93">
                                <text class="f26" wx:if="{{val.land_num}}">土地编号：{{val.land_num}}</text>
                            </view>
                            <view class="cf93">
                                <text class="f28 cf2b">重量：{{val.count}} kg</text>
                            </view>
                        </view>
                    </view>
                </view>
                <view class="order-detail">
                    <text>共{{item.goodsCount}}件商品 合计:￥{{item.total_price}}(含运费:￥{{item.send_price}})</text>
                </view>
                <view class="btnArr">
                    <button bindtap="showVerifyQrocde" class="cu-btn round line-gray button-hover" data-orderid="{{item.id}}" wx:if="{{item.send_method==1&&item.is_confirm!=1}}">核销码</button>
                    <button bindtap="sureGoods" class="cu-btn round line-green" data-orderid="{{item.id}}" style="color:{{farmSetData.background_color}}" wx:if="{{item.status_code==2}}">确认收货</button>
                </view>
            </view>
        </block>
    </view>
    <view wx:if="{{!isContent}}">
        <view class="none">
            <image src="../../../images/icon/none.png"></image>
            <text class="tags">您还没有相关的订单</text>
        </view>
    </view>
</view>
<view bindtap="hideVerify" class="verify-mask" hidden="{{show_verify}}"></view>
<view class="verify-code" hidden="{{show_verify}}">
    <view>核销二维码</view>
    <image src="{{verify_qrcode}}"></image>
</view>
